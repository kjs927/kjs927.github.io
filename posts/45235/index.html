<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 3 - Private Repository - Ke&#039;s Blog</title><meta description="Dockerfile Harbor"><meta property="og:type" content="blog"><meta property="og:title" content="Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 3 - Private Repository"><meta property="og:url" content="https://sanstwy27.github.io/"><meta property="og:site_name" content="Ke&#039;s Blog"><meta property="og:description" content="Dockerfile Harbor"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://i.imgur.com/pT5Waji.jpg"><meta property="article:published_time" content="2020-07-23T13:07:00.000Z"><meta property="article:modified_time" content="2020-07-23T14:37:03.399Z"><meta property="article:author" content="Sans Ke"><meta property="article:tag" content="CI/CD"><meta property="article:tag" content="Docker"><meta property="article:tag" content="Harbor"><meta property="article:tag" content="Private Repository"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://i.imgur.com/pT5Waji.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://sanstwy27.github.io/"},"headline":"Ke's Blog","image":["https://i.imgur.com/pT5Waji.jpg"],"datePublished":"2020-07-23T13:07:00.000Z","dateModified":"2020-07-23T14:37:03.399Z","author":{"@type":"Person","name":"Sans Ke"},"description":"Dockerfile Harbor"}</script><link rel="canonical" href="https://sanstwy27.github.io/posts/45235/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-172017415-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-172017415-1');</script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="alternate" href="/atom.xml" title="Ke's Blog" type="application/atom+xml">
</head><body class="is-2-column"><script type="text/javascript" src="/js/imaegoo/night.js"></script><canvas id="universe"></canvas><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img class="logo-img" src="/img/logo.png" alt="Ke&#039;s Blog" height="28"><img class="logo-img-dark" src="/img/logoNight.png" alt="Ke&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="thumbnail" src="https://i.imgur.com/pT5Waji.jpg" alt="Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 3 - Private Repository"></span></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left">ðŸ“…Â 2020-07-23Â  Â ðŸ“šÂ <span class="level-item">32 minutes read (About 4734 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 3 - Private Repository</h1><div class="content"><blockquote>
<ul>
<li>Dockerfile</li>
<li>Harbor</li>
</ul>
</blockquote>
<a id="more"></a>

<ol>
<li><p>Dockerfile<br>(1). build and upload a service jar<br> <img src="https://i.imgur.com/sOetnUA.png" alt=""><br>(2). vi Dockerfile</p>
 <figure class="highlight perl"><figcaption><span>vi Dockerfile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FROM openjdk:<span class="number">14</span>-jdk-alpine</span><br><span class="line">ARG JAR_FILE</span><br><span class="line">COPY $&#123;JAR_FILE&#125; app.jar</span><br><span class="line">EXPOSE <span class="number">8761</span></span><br><span class="line">ENTRYPOINT [<span class="string">"java"</span>,<span class="string">"-jar"</span>,<span class="string">"/app.jar"</span>]</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<p>(3). docker build â€“build-arg JAR_FILE=eureka-server-0.0.1-SNAPSHOT.jar -t eureka:v1 .</p>
 <figure class="highlight perl"><figcaption><span>docker build --build-arg JAR_FILE=eureka-server-0.0.1-SNAPSHOT.jar -t eureka:v1 .</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Sending build context to Docker daemon  <span class="number">48.83</span>MB</span><br><span class="line">Step <span class="number">1</span>/<span class="number">5</span> : FROM openjdk:<span class="number">14</span>-jdk-alpine</span><br><span class="line"><span class="number">14</span>-jdk-alpine: Pulling from library/openjdk</span><br><span class="line"><span class="number">4167</span>d3e14976: Pull complete</span><br><span class="line"><span class="number">345</span>cf19c142c: Pull complete</span><br><span class="line">Digest: sha256:b8082268ef46d44ec70fd5a64c71d445492941813ba9d68049be6e63a0da542f</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> openjdk:<span class="number">14</span>-jdk-alpine</span><br><span class="line"> ---&gt; <span class="number">8273876</span>b08aa</span><br><span class="line">Step <span class="number">2</span>/<span class="number">5</span> : ARG JAR_FILE</span><br><span class="line"> ---&gt; Running in <span class="number">56</span>a48219c5c8</span><br><span class="line">Removing intermediate container <span class="number">56</span>a48219c5c8</span><br><span class="line"> ---&gt; e50ea529f83c</span><br><span class="line">Step <span class="number">3</span>/<span class="number">5</span> : COPY $&#123;JAR_FILE&#125; app.jar</span><br><span class="line"> ---&gt; e8062becbde5</span><br><span class="line">Step <span class="number">4</span>/<span class="number">5</span> : EXPOSE <span class="number">8761</span></span><br><span class="line"> ---&gt; Running in c7b32bd3a202</span><br><span class="line">Removing intermediate container c7b32bd3a202</span><br><span class="line"> ---&gt; <span class="number">90</span>ee183fe9ea</span><br><span class="line">Step <span class="number">5</span>/<span class="number">5</span> : ENTRYPOINT [<span class="string">"java"</span>,<span class="string">"-jar"</span>,<span class="string">"/app.jar"</span>]</span><br><span class="line"> ---&gt; Running in <span class="number">01</span>9dc37b9d9b</span><br><span class="line">Removing intermediate container <span class="number">01</span>9dc37b9d9b</span><br><span class="line"> ---&gt; <span class="number">6277</span>cab9d767</span><br><span class="line">Successfully built <span class="number">6277</span>cab9d767</span><br><span class="line">Successfully tagged eureka:v1</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<p>(4). docker images</p>
 <figure class="highlight perl"><figcaption><span>docker images</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">eureka              v1                  <span class="number">6277</span>cab9d767        <span class="number">2</span> minutes ago       <span class="number">389</span>MB</span><br><span class="line">openjdk             <span class="number">14</span>-jdk-alpine       <span class="number">8273876</span>b08aa        <span class="number">5</span> months ago        <span class="number">340</span>MB</span><br><span class="line">hello-world         latest              bf756fb1ae65        <span class="number">6</span> months ago        <span class="number">13.3</span>kB</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<p>(5). docker run -p 8761:8761 eureka:v1</p>
 <figure class="highlight perl"><figcaption><span>docker run -p 8761:8761 eureka:v1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  .   ___<span class="number">_</span>          <span class="number">_</span>            _<span class="number">_</span> <span class="number">_</span> <span class="number">_</span></span><br><span class="line"> /\\ / __<span class="number">_</span><span class="string">'_ __ _ _(_)_ __  __ _ \ \ \ \</span></span><br><span class="line"><span class="string">( ( )\___ | '</span><span class="number">_</span> | <span class="string">'_| | '</span><span class="number">_</span> \/ <span class="number">_</span><span class="string">` | \ \ \ \</span></span><br><span class="line"><span class="string"> \\/  ___)| |_)| | | | | || (_| |  ) ) ) )</span></span><br><span class="line"><span class="string">  '  |____| .__|_| |_|_| |_\__, | / / / /</span></span><br><span class="line"><span class="string"> =========|_|==============|___/=/_/_/_/</span></span><br><span class="line"><span class="string"> :: Spring Boot ::        (v2.2.4.RELEASE)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2020-07-18 08:35:21.107  INFO 1 --- [           main] c.a.e.EurekaServerApplication            : No active profile set, falling back to default profiles: default</span></span><br><span class="line"><span class="string">2020-07-18 08:35:28.445  WARN 1 --- [           main] o.s.boot.actuate.endpoint.EndpointId     : Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.</span></span><br><span class="line"><span class="string">2020-07-18 08:35:29.585  INFO 1 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=c3ea35f0-7e78-37f1-b46f-23456daa5100</span></span><br><span class="line"><span class="string">2020-07-18 08:35:32.678  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8761 (http)</span></span><br><span class="line"><span class="string">2020-07-18 08:35:32.750  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span></span><br><span class="line"><span class="string">2020-07-18 08:35:32.752  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]</span></span><br><span class="line"><span class="string">2020-07-18 08:35:33.118  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext</span></span><br><span class="line"><span class="string">2020-07-18 08:35:33.119  INFO 1 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 11826 ms</span></span><br><span class="line"><span class="string">2020-07-18 08:35:33.810  WARN 1 --- [           main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.</span></span><br><span class="line"><span class="string">2020-07-18 08:35:33.811  INFO 1 --- [           main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.</span></span><br><span class="line"><span class="string">2020-07-18 08:35:33.976  INFO 1 --- [           main] c.netflix.config.DynamicPropertyFactory  : DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@75b25825</span></span><br><span class="line"><span class="string">2020-07-18 08:35:37.061  INFO 1 --- [           main] c.s.j.s.i.a.WebApplicationImpl           : Initiating Jersey application, version 'Jersey: 1.19.1 03/11/2016 02:08 PM'</span></span><br><span class="line"><span class="string">2020-07-18 08:35:37.445  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson</span></span><br><span class="line"><span class="string">2020-07-18 08:35:37.457  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson</span></span><br><span class="line"><span class="string">WARNING: An illegal reflective access operation has occurred</span></span><br><span class="line"><span class="string">WARNING: Illegal reflective access by com.thoughtworks.xstream.core.util.Fields (jar:file:/app.jar!/BOOT-INF/lib/xstream-1.4.11.1.jar!/) to field java.util.TreeMap.comparator</span></span><br><span class="line"><span class="string">WARNING: Please consider reporting this to the maintainers of com.thoughtworks.xstream.core.util.Fields</span></span><br><span class="line"><span class="string">WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations</span></span><br><span class="line"><span class="string">WARNING: All illegal access operations will be denied in a future release</span></span><br><span class="line"><span class="string">2020-07-18 08:35:39.019  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml</span></span><br><span class="line"><span class="string">2020-07-18 08:35:39.028  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml</span></span><br><span class="line"><span class="string">2020-07-18 08:35:42.577  WARN 1 --- [           main] o.s.c.n.a.ArchaiusAutoConfiguration      : No spring.application.name found, defaulting to 'application'</span></span><br><span class="line"><span class="string">2020-07-18 08:35:42.589  WARN 1 --- [           main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.</span></span><br><span class="line"><span class="string">2020-07-18 08:35:42.589  INFO 1 --- [           main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.</span></span><br><span class="line"><span class="string">2020-07-18 08:35:44.586  INFO 1 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'</span></span><br><span class="line"><span class="string">2020-07-18 08:35:47.322  WARN 1 --- [           main] ockingLoadBalancerClientRibbonWarnLogger : You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `</span>spring.cloud.loadbalancer.ribbon.enabled<span class="string">` to `</span>false<span class="string">` or remove spring-cloud-starter-netflix-ribbon from your project.</span></span><br><span class="line"><span class="string">2020-07-18 08:35:47.601  INFO 1 --- [           main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING</span></span><br><span class="line"><span class="string">2020-07-18 08:35:48.269  INFO 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1</span></span><br><span class="line"><span class="string">2020-07-18 08:35:49.365  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson</span></span><br><span class="line"><span class="string">2020-07-18 08:35:49.366  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson</span></span><br><span class="line"><span class="string">2020-07-18 08:35:49.367  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml</span></span><br><span class="line"><span class="string">2020-07-18 08:35:49.368  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml</span></span><br><span class="line"><span class="string">2020-07-18 08:35:49.955  INFO 1 --- [           main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration</span></span><br><span class="line"><span class="string">2020-07-18 08:35:50.257  INFO 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30</span></span><br><span class="line"><span class="string">2020-07-18 08:35:50.285  INFO 1 --- [           main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4</span></span><br><span class="line"><span class="string">2020-07-18 08:35:50.335  INFO 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1595061350315 with initial instances count: 0</span></span><br><span class="line"><span class="string">2020-07-18 08:35:50.647  INFO 1 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Initializing ...</span></span><br><span class="line"><span class="string">2020-07-18 08:35:50.664  INFO 1 --- [           main] c.n.eureka.cluster.PeerEurekaNodes       : Adding new peer nodes [http://localhost:8761/eureka/]</span></span><br><span class="line"><span class="string">2020-07-18 08:35:50.712  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson</span></span><br><span class="line"><span class="string">2020-07-18 08:35:50.712  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson</span></span><br><span class="line"><span class="string">2020-07-18 08:35:50.713  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml</span></span><br><span class="line"><span class="string">2020-07-18 08:35:50.714  INFO 1 --- [           main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.432  INFO 1 --- [           main] c.n.eureka.cluster.PeerEurekaNodes       : Replica node URL:  http://localhost:8761/eureka/</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.497  INFO 1 --- [           main] c.n.e.registry.AbstractInstanceRegistry  : Finished initializing remote region registries. All known remote regions: []</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.504  INFO 1 --- [           main] c.n.eureka.DefaultEurekaServerContext    : Initialized</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.594  INFO 1 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.686  INFO 1 --- [           main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application UNKNOWN with eureka with status UP</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.690  INFO 1 --- [           main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1595061351690, current=UP, previous=STARTING]</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.732  INFO 1 --- [      Thread-10] o.s.c.n.e.server.EurekaServerBootstrap   : Setting the eureka configuration..</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.750  INFO 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_UNKNOWN/5f073b986f66:8761: registering service...</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.782  INFO 1 --- [      Thread-10] o.s.c.n.e.server.EurekaServerBootstrap   : Eureka data center value eureka.datacenter is not set, defaulting to default</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.785  INFO 1 --- [      Thread-10] o.s.c.n.e.server.EurekaServerBootstrap   : Eureka environment value eureka.environment is not set, defaulting to test</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.931  INFO 1 --- [      Thread-10] o.s.c.n.e.server.EurekaServerBootstrap   : isAws returned false</span></span><br><span class="line"><span class="string">2020-07-18 08:35:51.933  INFO 1 --- [      Thread-10] o.s.c.n.e.server.EurekaServerBootstrap   : Initialized server context</span></span><br><span class="line"><span class="string">2020-07-18 08:35:52.113  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8761 (http) with context path ''</span></span><br><span class="line"><span class="string">2020-07-18 08:35:52.118  INFO 1 --- [           main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8761</span></span><br><span class="line"><span class="string">2020-07-18 08:35:52.132  INFO 1 --- [           main] c.a.e.EurekaServerApplication            : Started EurekaServerApplication in 41.026 seconds (JVM running for 46.877)</span></span><br><span class="line"><span class="string">2020-07-18 08:35:53.373  INFO 1 --- [nio-8761-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'</span></span><br><span class="line"><span class="string">2020-07-18 08:35:53.374  INFO 1 --- [nio-8761-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'</span></span><br><span class="line"><span class="string">2020-07-18 08:35:53.468  INFO 1 --- [nio-8761-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 94 ms</span></span><br><span class="line"><span class="string">2020-07-18 08:35:53.949  INFO 1 --- [nio-8761-exec-1] c.n.e.registry.AbstractInstanceRegistry  : Registered instance UNKNOWN/5f073b986f66:8761 with status UP (replication=false)</span></span><br><span class="line"><span class="string">2020-07-18 08:35:54.160  INFO 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_UNKNOWN/5f073b986f66:8761 - registration status: 204</span></span><br><span class="line"><span class="string">2020-07-18 08:35:54.666  INFO 1 --- [nio-8761-exec-2] c.n.e.registry.AbstractInstanceRegistry  : Registered instance UNKNOWN/5f073b986f66:8761 with status UP (replication=true)</span></span><br><span class="line"><span class="string">2020-07-18 08:37:51.943  INFO 1 --- [      Thread-10] c.n.e.r.PeerAwareInstanceRegistryImpl    : Got 1 instances from neighboring DS node</span></span><br><span class="line"><span class="string">2020-07-18 08:37:51.943  INFO 1 --- [      Thread-10] c.n.e.r.PeerAwareInstanceRegistryImpl    : Renew threshold is: 1</span></span><br><span class="line"><span class="string">2020-07-18 08:37:51.944  INFO 1 --- [      Thread-10] c.n.e.r.PeerAwareInstanceRegistryImpl    : Changing status to UP</span></span><br><span class="line"><span class="string">2020-07-18 08:37:52.006  INFO 1 --- [      Thread-10] e.s.EurekaServerInitializerConfiguration : Started Eureka Server</span></span><br><span class="line"><span class="string">2020-07-18 08:38:51.945  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms</span></span><br><span class="line"><span class="string">2020-07-18 08:39:51.945  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms</span></span><br><span class="line"><span class="string">2020-07-18 08:40:51.798  INFO 1 --- [trap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration</span></span><br><span class="line"><span class="string">2020-07-18 08:40:51.946  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms</span></span><br><span class="line"><span class="string">2020-07-18 08:41:51.946  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms</span></span><br><span class="line"><span class="string">^C2020-07-18 08:42:33.253  INFO 1 --- [extShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application UNKNOWN with eureka with status DOWN</span></span><br><span class="line"><span class="string">2020-07-18 08:42:33.254  WARN 1 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1595061753254, current=DOWN, previous=UP]</span></span><br><span class="line"><span class="string">2020-07-18 08:42:33.255  INFO 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_UNKNOWN/5f073b986f66:8761: registering service...</span></span><br><span class="line"><span class="string">2020-07-18 08:42:33.285  INFO 1 --- [nio-8761-exec-8] c.n.e.registry.AbstractInstanceRegistry  : Registered instance UNKNOWN/5f073b986f66:8761 with status DOWN (replication=false)</span></span><br><span class="line"><span class="string">2020-07-18 08:42:33.288  INFO 1 --- [extShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shutting down ...</span></span><br><span class="line"><span class="string">2020-07-18 08:42:33.294  INFO 1 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_UNKNOWN/5f073b986f66:8761 - registration status: 204</span></span><br><span class="line"><span class="string">2020-07-18 08:42:33.307  INFO 1 --- [extShutdownHook] c.n.eureka.DefaultEurekaServerContext    : Shut down</span></span><br><span class="line"><span class="string">2020-07-18 08:42:33.320  INFO 1 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'</span></span><br><span class="line"><span class="string">2020-07-18 08:42:33.333  INFO 1 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...</span></span><br><span class="line"><span class="string">2020-07-18 08:42:36.335  INFO 1 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...</span></span><br><span class="line"><span class="string">2020-07-18 08:42:36.356  INFO 1 --- [nio-8761-exec-9] c.n.e.registry.AbstractInstanceRegistry  : Cancelled instance UNKNOWN/5f073b986f66:8761 (replication=false)</span></span><br><span class="line"><span class="string">2020-07-18 08:42:36.360  INFO 1 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_UNKNOWN/5f073b986f66:8761 - deregister  status: 200</span></span><br><span class="line"><span class="string">2020-07-18 08:42:36.402  INFO 1 --- [extShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient</span></span><br><span class="line"><span class="string">    </span></span><br></pre></td></tr></table></figure>
<p>(6). done!<br> <img src="https://i.imgur.com/Ru073CQ.png" alt=""></p>
</li>
<li><p>Harbor<br>(1). install Docker (we did before)<br>(2). install docker-compose</p>
 <figure class="highlight perl"><figcaption><span>docker-compose</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">Reading <span class="keyword">package</span> lists... Done</span><br><span class="line">Building dependency tree</span><br><span class="line">Reading <span class="keyword">state</span> information... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">  python3-attr python3-cached-property python3-distutils python3-docker python3-dockerpty python3-docopt python3-importlib-metadata python3-jsonschema python3-more-itertools</span><br><span class="line">  python3-pyrsistent python3-setuptools python3-texttable python3-websocket python3-zipp</span><br><span class="line">Suggested packages:</span><br><span class="line">  python-attr-doc python-jsonschema-doc python-setuptools-doc</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  docker-compose python3-attr python3-cached-property python3-distutils python3-docker python3-dockerpty python3-docopt python3-importlib-metadata python3-jsonschema python3-more-itertools</span><br><span class="line">  python3-pyrsistent python3-setuptools python3-texttable python3-websocket python3-zipp</span><br><span class="line"><span class="number">0</span> upgraded, <span class="number">15</span> newly installed, <span class="number">0</span> to remove <span class="keyword">and</span> <span class="number">200</span> <span class="keyword">not</span> upgraded.</span><br><span class="line">Need to get <span class="number">915</span> kB of archives.</span><br><span class="line">After this operation, <span class="number">4</span>,<span class="number">758</span> kB of additional disk space will be used.</span><br><span class="line">Do you want to <span class="keyword">continue</span>? [Y/n] <span class="keyword">y</span></span><br><span class="line">Get:<span class="number">1</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/universe amd64 python3-cached-property all <span class="number">1.5</span>.<span class="number">1</span>-<span class="number">4</span> [<span class="number">10.9</span> kB]</span><br><span class="line">Get:<span class="number">2</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/universe amd64 python3-websocket all <span class="number">0</span>.<span class="number">53.0</span>-<span class="number">2</span>ubuntu1 [<span class="number">32.3</span> kB]</span><br><span class="line">Get:<span class="number">3</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/universe amd64 python3-docker all <span class="number">4.1</span>.<span class="number">0</span>-<span class="number">1</span> [<span class="number">83.8</span> kB]</span><br><span class="line">Get:<span class="number">4</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/universe amd64 python3-dockerpty all <span class="number">0</span>.<span class="number">4.1</span>-<span class="number">2</span> [<span class="number">11.1</span> kB]</span><br><span class="line">Get:<span class="number">5</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/universe amd64 python3-docopt all <span class="number">0</span>.<span class="number">6.2</span>-<span class="number">2.2</span>ubuntu1 [<span class="number">19.7</span> kB]</span><br><span class="line">Get:<span class="number">6</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/main amd64 python3-attr all <span class="number">19.3</span>.<span class="number">0</span>-<span class="number">2</span> [<span class="number">33.9</span> kB]</span><br><span class="line">Get:<span class="number">7</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/main amd64 python3-distutils all <span class="number">3.8</span>.<span class="number">2</span>-<span class="number">1</span>ubuntu1 [<span class="number">140</span> kB]</span><br><span class="line">Get:<span class="number">8</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/main amd64 python3-setuptools all <span class="number">45.2</span>.<span class="number">0</span>-<span class="number">1</span> [<span class="number">330</span> kB]</span><br><span class="line">Get:<span class="number">9</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/main amd64 python3-more-itertools all <span class="number">4.2</span>.<span class="number">0</span>-<span class="number">1</span>build1 [<span class="number">39.4</span> kB]</span><br><span class="line">Get:<span class="number">10</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/main amd64 python3-zipp all <span class="number">1.0</span>.<span class="number">0</span>-<span class="number">1</span> [<span class="number">5</span>,<span class="number">312</span> B]</span><br><span class="line">Get:<span class="number">11</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/main amd64 python3-importlib-metadata all <span class="number">1.5</span>.<span class="number">0</span>-<span class="number">1</span> [<span class="number">9</span>,<span class="number">992</span> B]</span><br><span class="line">Get:<span class="number">12</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/main amd64 python3-pyrsistent amd64 <span class="number">0</span>.<span class="number">15.5</span>-<span class="number">1</span>build1 [<span class="number">52.1</span> kB]</span><br><span class="line">Get:<span class="number">13</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/main amd64 python3-jsonschema all <span class="number">3.2</span>.<span class="number">0</span>-0ubuntu2 [<span class="number">43.1</span> kB]</span><br><span class="line">Get:<span class="number">14</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/universe amd64 python3-texttable all <span class="number">1.6</span>.<span class="number">2</span>-<span class="number">2</span> [<span class="number">11.0</span> kB]</span><br><span class="line">Get:<span class="number">15</span> http:<span class="regexp">//us</span>.archive.ubuntu.com/ubuntu focal/universe amd64 docker-compose all <span class="number">1.25</span>.<span class="number">0</span>-<span class="number">1</span> [<span class="number">92.7</span> kB]</span><br><span class="line">Fetched <span class="number">915</span> kB in <span class="number">6</span><span class="keyword">s</span> (<span class="number">154</span> kB/<span class="keyword">s</span>)</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-cached-property.</span><br><span class="line">(Reading database ... <span class="number">283607</span> files <span class="keyword">and</span> directories currently installed.)</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">00</span>-python3-cached-property_1.<span class="number">5.1</span>-<span class="number">4_</span>all.deb ...</span><br><span class="line">Unpacking python3-cached-property (<span class="number">1.5</span>.<span class="number">1</span>-<span class="number">4</span>) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-websocket.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">01</span>-python3-websocket_<span class="number">0</span>.<span class="number">53.0</span>-<span class="number">2</span>ubuntu1_all.deb ...</span><br><span class="line">Unpacking python3-websocket (<span class="number">0</span>.<span class="number">53.0</span>-<span class="number">2</span>ubuntu1) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-docker.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">02</span>-python3-docker_4.<span class="number">1.0</span>-<span class="number">1_</span>all.deb ...</span><br><span class="line">Unpacking python3-docker (<span class="number">4.1</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-dockerpty.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">03</span>-python3-dockerpty_<span class="number">0</span>.<span class="number">4.1</span>-<span class="number">2_</span>all.deb ...</span><br><span class="line">Unpacking python3-dockerpty (<span class="number">0</span>.<span class="number">4.1</span>-<span class="number">2</span>) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-docopt.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">04</span>-python3-docopt_<span class="number">0</span>.<span class="number">6.2</span>-<span class="number">2.2</span>ubuntu1_all.deb ...</span><br><span class="line">Unpacking python3-docopt (<span class="number">0</span>.<span class="number">6.2</span>-<span class="number">2.2</span>ubuntu1) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-attr.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">05</span>-python3-attr_19.<span class="number">3.0</span>-<span class="number">2_</span>all.deb ...</span><br><span class="line">Unpacking python3-attr (<span class="number">19.3</span>.<span class="number">0</span>-<span class="number">2</span>) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-distutils.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">06</span>-python3-distutils_3.<span class="number">8.2</span>-<span class="number">1</span>ubuntu1_all.deb ...</span><br><span class="line">Unpacking python3-distutils (<span class="number">3.8</span>.<span class="number">2</span>-<span class="number">1</span>ubuntu1) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-setuptools.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">07</span>-python3-setuptools_45.<span class="number">2.0</span>-<span class="number">1_</span>all.deb ...</span><br><span class="line">Unpacking python3-setuptools (<span class="number">45.2</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-more-itertools.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../08-python3-more-itertools_4.<span class="number">2.0</span>-<span class="number">1</span>build1_all.deb ...</span><br><span class="line">Unpacking python3-more-itertools (<span class="number">4.2</span>.<span class="number">0</span>-<span class="number">1</span>build1) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-zipp.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../09-python3-zipp_1.<span class="number">0</span>.<span class="number">0</span>-<span class="number">1_</span>all.deb ...</span><br><span class="line">Unpacking python3-zipp (<span class="number">1.0</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-importlib-metadata.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">10</span>-python3-importlib-metadata_1.<span class="number">5.0</span>-<span class="number">1_</span>all.deb ...</span><br><span class="line">Unpacking python3-importlib-metadata (<span class="number">1.5</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-pyrsistent:amd64.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">11</span>-python3-pyrsistent_<span class="number">0</span>.<span class="number">15.5</span>-<span class="number">1</span>build1_amd64.deb ...</span><br><span class="line">Unpacking python3-pyrsistent:amd64 (<span class="number">0</span>.<span class="number">15.5</span>-<span class="number">1</span>build1) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-jsonschema.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">12</span>-python3-jsonschema_3.<span class="number">2.0</span>-0ubuntu2_all.deb ...</span><br><span class="line">Unpacking python3-jsonschema (<span class="number">3.2</span>.<span class="number">0</span>-0ubuntu2) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> python3-texttable.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">13</span>-python3-texttable_1.<span class="number">6.2</span>-<span class="number">2_</span>all.deb ...</span><br><span class="line">Unpacking python3-texttable (<span class="number">1.6</span>.<span class="number">2</span>-<span class="number">2</span>) ...</span><br><span class="line">Selecting previously unselected <span class="keyword">package</span> docker-compose.</span><br><span class="line">Preparing to <span class="keyword">unpack</span> .../<span class="number">14</span>-docker-compose_1.<span class="number">25.0</span>-<span class="number">1_</span>all.deb ...</span><br><span class="line">Unpacking docker-compose (<span class="number">1.25</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Setting up python3-distutils (<span class="number">3.8</span>.<span class="number">2</span>-<span class="number">1</span>ubuntu1) ...</span><br><span class="line">Setting up python3-cached-property (<span class="number">1.5</span>.<span class="number">1</span>-<span class="number">4</span>) ...</span><br><span class="line">Setting up python3-more-itertools (<span class="number">4.2</span>.<span class="number">0</span>-<span class="number">1</span>build1) ...</span><br><span class="line">Setting up python3-attr (<span class="number">19.3</span>.<span class="number">0</span>-<span class="number">2</span>) ...</span><br><span class="line">Setting up python3-texttable (<span class="number">1.6</span>.<span class="number">2</span>-<span class="number">2</span>) ...</span><br><span class="line">Setting up python3-docopt (<span class="number">0</span>.<span class="number">6.2</span>-<span class="number">2.2</span>ubuntu1) ...</span><br><span class="line">Setting up python3-setuptools (<span class="number">45.2</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Setting up python3-zipp (<span class="number">1.0</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Setting up python3-pyrsistent:amd64 (<span class="number">0</span>.<span class="number">15.5</span>-<span class="number">1</span>build1) ...</span><br><span class="line">Setting up python3-websocket (<span class="number">0</span>.<span class="number">53.0</span>-<span class="number">2</span>ubuntu1) ...</span><br><span class="line">update-alternatives: using /usr/bin/python3-wsdump to provide /usr/bin/wsdump (wsdump) in auto mode</span><br><span class="line">Setting up python3-dockerpty (<span class="number">0</span>.<span class="number">4.1</span>-<span class="number">2</span>) ...</span><br><span class="line">Setting up python3-importlib-metadata (<span class="number">1.5</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Setting up python3-docker (<span class="number">4.1</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Setting up python3-jsonschema (<span class="number">3.2</span>.<span class="number">0</span>-0ubuntu2) ...</span><br><span class="line">Setting up docker-compose (<span class="number">1.25</span>.<span class="number">0</span>-<span class="number">1</span>) ...</span><br><span class="line">Processing triggers <span class="keyword">for</span> man-db (<span class="number">2.9</span>.<span class="number">1</span>-<span class="number">1</span>) ...</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<p>(3). install Harbor</p>
<ul>
<li>wget <a href="https://github.com/goharbor/harbor/releases/download/v1.10.4/harbor-offline-installer-v1.10.4.tgz">https://github.com/goharbor/harbor/releases/download/v1.10.4/harbor-offline-installer-v1.10.4.tgz</a><figure class="highlight perl"><figcaption><span>wget ``https://github.com/goharbor/harbor/releases/download/v1.10.4/harbor-offline-installer-v1.10.4.tgz``</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">--<span class="number">2020</span>-<span class="number">07</span>-<span class="number">18</span> <span class="number">04</span>:<span class="number">51</span>:<span class="number">16</span>--  https:<span class="regexp">//github</span>.com/goharbor/harbor/releases/download/v1.<span class="number">10.4</span>/harbor-offline-installer-v1.<span class="number">10.4</span>.tgz</span><br><span class="line">Resolving github.com (github.com)... <span class="number">140.82</span>.<span class="number">112.3</span></span><br><span class="line">Connecting to github.com (github.com)|<span class="number">140.82</span>.<span class="number">112.3</span>|:<span class="number">443</span>... connected.</span><br><span class="line">HTTP request sent, awaiting response... <span class="number">302</span> Found</span><br><span class="line">Location: https:<span class="regexp">//github</span>-production-release-asset-<span class="number">2</span>e65be.s3.amazonaws.com/<span class="number">50613991</span>/<span class="number">86</span>f7c40<span class="number">0</span>-c696-<span class="number">11</span>ea-<span class="number">927</span>e-<span class="number">28</span>f56d23a067?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20200718%2Fus-east-<span class="number">1</span>%2Fs3%2Faws4_request&amp;X-Amz-Date=<span class="number">20200718</span>T085117Z&amp;X-Amz-Expires=<span class="number">300</span>&amp;X-Amz-Signature=0a252c50e0ebb0fbf6dd0606ba80a1c7513e86b6816dc2ab78110b8373e81029&amp;X-Amz-SignedHeaders=host&amp;actor_id=<span class="number">0</span>&amp;repo_id=<span class="number">50613991</span>&amp;response-content-disposition=attachment%3B%20filename%3Dharbor-offline-installer-v1.<span class="number">10.4</span>.tgz&amp;response-content-type=application%2Foctet-stream [following]</span><br><span class="line">--<span class="number">2020</span>-<span class="number">07</span>-<span class="number">18</span> <span class="number">04</span>:<span class="number">51</span>:<span class="number">17</span>--  https:<span class="regexp">//github</span>-production-release-asset-<span class="number">2</span>e65be.s3.amazonaws.com/<span class="number">50613991</span>/<span class="number">86</span>f7c40<span class="number">0</span>-c696-<span class="number">11</span>ea-<span class="number">927</span>e-<span class="number">28</span>f56d23a067?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20200718%2Fus-east-<span class="number">1</span>%2Fs3%2Faws4_request&amp;X-Amz-Date=<span class="number">20200718</span>T085117Z&amp;X-Amz-Expires=<span class="number">300</span>&amp;X-Amz-Signature=0a252c50e0ebb0fbf6dd0606ba80a1c7513e86b6816dc2ab78110b8373e81029&amp;X-Amz-SignedHeaders=host&amp;actor_id=<span class="number">0</span>&amp;repo_id=<span class="number">50613991</span>&amp;response-content-disposition=attachment%3B%20filename%3Dharbor-offline-installer-v1.<span class="number">10.4</span>.tgz&amp;response-content-type=application%2Foctet-stream</span><br><span class="line">Resolving github-production-release-asset-<span class="number">2</span>e65be.s3.amazonaws.com (github-production-release-asset-<span class="number">2</span>e65be.s3.amazonaws.com)... <span class="number">52.217</span>.<span class="number">16.228</span></span><br><span class="line">Connecting to github-production-release-asset-<span class="number">2</span>e65be.s3.amazonaws.com (github-production-release-asset-<span class="number">2</span>e65be.s3.amazonaws.com)|<span class="number">52.217</span>.<span class="number">16.228</span>|:<span class="number">443</span>... connected.</span><br><span class="line">HTTP request sent, awaiting response... <span class="number">200</span> OK</span><br><span class="line">Length: <span class="number">678912854</span> (<span class="number">647</span>M) [application/octet-stream]</span><br><span class="line">Saving to: â€˜harbor-offline-installer-v1.<span class="number">10.4</span>.tgzâ€™</span><br><span class="line"></span><br><span class="line">harbor-offline-installer-v1.<span class="number">10.4</span>.tgz            <span class="number">100</span>%[======================================================================================================&gt;] <span class="number">647.46</span>M   <span class="number">689</span>KB/<span class="keyword">s</span>    in <span class="number">13</span><span class="keyword">m</span> <span class="number">39</span><span class="keyword">s</span></span><br><span class="line"></span><br><span class="line"><span class="number">2020</span>-<span class="number">07</span>-<span class="number">18</span> <span class="number">05</span>:<span class="number">04</span>:<span class="number">57</span> (<span class="number">810</span> KB/<span class="keyword">s</span>) - â€˜harbor-offline-installer-v1.<span class="number">10.4</span>.tgzâ€™ saved [<span class="number">678912854</span>/<span class="number">678912854</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>tar -xzf harbor-offline-installer-v1.10.4.tgz<figure class="highlight perl"><figcaption><span>tar -xzf harbor-offline-installer-v1.10.4.tgz</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xzf harbor-offline-installer-v1.<span class="number">10.4</span>.tgz</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>sudo mv harbor /opt<figure class="highlight perl"><figcaption><span>sudo mv harbor /opt</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mv harbor /opt</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>cd /opt/harbor/<figure class="highlight perl"><figcaption><span>cd /opt/harbor/</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/harbor/</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>vi harbor.yml<figure class="highlight perl"><figcaption><span>vi harbor.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment"># The IP address or hostname to access admin UI and registry service.</span></span><br><span class="line"><span class="comment"># DO NOT use localhost or 127.0.0.1, because Harbor needs to be accessed by external clients.</span></span><br><span class="line">hostname: harbor.test.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># http related config</span></span><br><span class="line">http:</span><br><span class="line">  <span class="comment"># port for http, default is 80. If https enabled, this port will redirect to https port</span></span><br><span class="line">  port: <span class="number">85</span></span><br><span class="line"></span><br><span class="line">&gt; RROR:root:Error: The protocol is https but attribute ssl_cert is <span class="keyword">not</span> set</span><br><span class="line"><span class="comment"># https related config</span></span><br><span class="line"><span class="comment">#https:</span></span><br><span class="line"><span class="comment">#  # https port for harbor, default is 443</span></span><br><span class="line"><span class="comment">#  port: 443</span></span><br><span class="line"><span class="comment">#  # The path of cert and key files for nginx</span></span><br><span class="line"><span class="comment">#  certificate: /your/certificate/path</span></span><br><span class="line"><span class="comment">#  private_key: /your/private/key/path</span></span><br><span class="line">...</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>sudo ./prepare<figure class="highlight perl"><figcaption><span>sudo ./prepare</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">prepare base dir is set to /opt/harbor</span><br><span class="line">WARNING:root:WARNING: HTTP protocol is insecure. Harbor will deprecate http protocol in the future. Please make sure to upgrade to https</span><br><span class="line">Generated configuration file: <span class="regexp">/config/log</span><span class="regexp">/logrotate.conf</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/log/rsyslog</span>_docker.conf</span><br><span class="line">Generated configuration file: <span class="regexp">/config/nginx</span><span class="regexp">/nginx.conf</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/core/env</span></span><br><span class="line">Generated configuration file: <span class="regexp">/config/core</span><span class="regexp">/app.conf</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/registry/config</span>.yml</span><br><span class="line">Generated configuration file: <span class="regexp">/config/registryctl</span><span class="regexp">/env</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/db/env</span></span><br><span class="line">Generated configuration file: <span class="regexp">/config/jobservice</span><span class="regexp">/env</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/jobservice/config</span>.yml</span><br><span class="line">Generated <span class="keyword">and</span> saved secret to file: <span class="regexp">/secret/keys</span><span class="regexp">/secretkey</span></span><br><span class="line"><span class="regexp">Generated certificate, key file: /secret</span><span class="regexp">/core/private</span>_key.pem, cert file: <span class="regexp">/secret/registry</span><span class="regexp">/root.crt</span></span><br><span class="line"><span class="regexp">Generated configuration file: /compose</span>_location/docker-compose.yml</span><br><span class="line">Clean up the input dir</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>sudo ./install.sh<figure class="highlight perl"><figcaption><span>sudo ./install.sh >folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[Step <span class="number">0</span>]: checking <span class="keyword">if</span> docker is installed ...</span><br><span class="line"></span><br><span class="line">Note: docker version: <span class="number">19.03</span>.<span class="number">12</span></span><br><span class="line"></span><br><span class="line">[Step <span class="number">1</span>]: checking docker-compose is installed ...</span><br><span class="line"></span><br><span class="line">Note: docker-compose version: <span class="number">1.26</span>.<span class="number">2</span></span><br><span class="line"></span><br><span class="line">[Step <span class="number">2</span>]: loading Harbor images ...</span><br><span class="line"><span class="number">7</span>fd57902f2bf: Loading layer [==================================================&gt;]  <span class="number">8.465</span>MB/<span class="number">8.465</span>MB</span><br><span class="line"><span class="number">9</span>f7a3727b327: Loading layer [==================================================&gt;]   <span class="number">67.5</span>MB/<span class="number">67.5</span>MB</span><br><span class="line">b165ecbfa6a<span class="number">0</span>: Loading layer [==================================================&gt;]  <span class="number">3.072</span>kB/<span class="number">3.072</span>kB</span><br><span class="line"><span class="number">618609</span>e47ff5: Loading layer [==================================================&gt;]  <span class="number">3.584</span>kB/<span class="number">3.584</span>kB</span><br><span class="line"><span class="number">4941</span>a988de67: Loading layer [==================================================&gt;]  <span class="number">68.33</span>MB/<span class="number">68.33</span>MB</span><br><span class="line">Loaded image: goharbor/chartmuseum-photon:v1.<span class="number">10.4</span></span><br><span class="line">c249fd1745d2: Loading layer [==================================================&gt;]  <span class="number">12.24</span>MB/<span class="number">12.24</span>MB</span><br><span class="line"><span class="number">6</span>f099dcc4dab: Loading layer [==================================================&gt;]  <span class="number">42.51</span>MB/<span class="number">42.51</span>MB</span><br><span class="line">eb32b6d20d4b: Loading layer [==================================================&gt;]  <span class="number">5.632</span>kB/<span class="number">5.632</span>kB</span><br><span class="line"><span class="number">5</span>acd92618fef: Loading layer [==================================================&gt;]  <span class="number">40.45</span>kB/<span class="number">40.45</span>kB</span><br><span class="line"><span class="number">62</span>b57401b9ca: Loading layer [==================================================&gt;]  <span class="number">42.51</span>MB/<span class="number">42.51</span>MB</span><br><span class="line">d7b6ded42cfb: Loading layer [==================================================&gt;]   <span class="number">2.56</span>kB/<span class="number">2.56</span>kB</span><br><span class="line">Loaded image: goharbor/harbor-core:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">31</span>b3ca7fa226: Loading layer [==================================================&gt;]   <span class="number">63.6</span>MB/<span class="number">63.6</span>MB</span><br><span class="line">b9972bab1402: Loading layer [==================================================&gt;]  <span class="number">66.73</span>MB/<span class="number">66.73</span>MB</span><br><span class="line"><span class="number">56</span>b3ba4b4a66: Loading layer [==================================================&gt;]  <span class="number">5.632</span>kB/<span class="number">5.632</span>kB</span><br><span class="line"><span class="number">1654024</span>d89fe: Loading layer [==================================================&gt;]   <span class="number">2.56</span>kB/<span class="number">2.56</span>kB</span><br><span class="line"><span class="number">040</span>ec6bf5851: Loading layer [==================================================&gt;]   <span class="number">2.56</span>kB/<span class="number">2.56</span>kB</span><br><span class="line">e93cd0c30c28: Loading layer [==================================================&gt;]   <span class="number">2.56</span>kB/<span class="number">2.56</span>kB</span><br><span class="line">aed062c3be21: Loading layer [==================================================&gt;]   <span class="number">2.56</span>kB/<span class="number">2.56</span>kB</span><br><span class="line"><span class="number">820</span>d1a1df842: Loading layer [==================================================&gt;]  <span class="number">10.75</span>kB/<span class="number">10.75</span>kB</span><br><span class="line">Loaded image: goharbor/harbor-db:v1.<span class="number">10.4</span></span><br><span class="line">ce217f40132<span class="number">0</span>: Loading layer [==================================================&gt;]  <span class="number">8.466</span>MB/<span class="number">8.466</span>MB</span><br><span class="line">b324500c7da3: Loading layer [==================================================&gt;]  <span class="number">3.584</span>kB/<span class="number">3.584</span>kB</span><br><span class="line"><span class="number">042</span>b5242fe78: Loading layer [==================================================&gt;]  <span class="number">20.94</span>MB/<span class="number">20.94</span>MB</span><br><span class="line"><span class="number">87</span>dd45007ea3: Loading layer [==================================================&gt;]  <span class="number">3.072</span>kB/<span class="number">3.072</span>kB</span><br><span class="line"><span class="number">651</span>d502d735c: Loading layer [==================================================&gt;]  <span class="number">8.662</span>MB/<span class="number">8.662</span>MB</span><br><span class="line">fe72a4614aa1: Loading layer [==================================================&gt;]  <span class="number">30.42</span>MB/<span class="number">30.42</span>MB</span><br><span class="line">Loaded image: goharbor/harbor-registryctl:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">5</span>de330f38841: Loading layer [==================================================&gt;]   <span class="number">8.46</span>MB/<span class="number">8.46</span>MB</span><br><span class="line">0af0ddd91395: Loading layer [==================================================&gt;]  <span class="number">6.239</span>MB/<span class="number">6.239</span>MB</span><br><span class="line"><span class="number">3685</span>afd2d128: Loading layer [==================================================&gt;]  <span class="number">16.04</span>MB/<span class="number">16.04</span>MB</span><br><span class="line">d8057fcd0a39: Loading layer [==================================================&gt;]  <span class="number">28.25</span>MB/<span class="number">28.25</span>MB</span><br><span class="line"><span class="number">0340225731</span>b6: Loading layer [==================================================&gt;]  <span class="number">22.02</span>kB/<span class="number">22.02</span>kB</span><br><span class="line"><span class="number">06</span>d8d803f0eb: Loading layer [==================================================&gt;]  <span class="number">50.52</span>MB/<span class="number">50.52</span>MB</span><br><span class="line">Loaded image: goharbor/notary-server-photon:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">76</span>eab6dc7bf5: Loading layer [==================================================&gt;]  <span class="number">332.6</span>MB/<span class="number">332.6</span>MB</span><br><span class="line">c96d1ad1968e: Loading layer [==================================================&gt;]  <span class="number">135.2</span>kB/<span class="number">135.2</span>kB</span><br><span class="line">Loaded image: goharbor/harbor-migrator:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">7426785037</span>a5: Loading layer [==================================================&gt;]  <span class="number">10.31</span>MB/<span class="number">10.31</span>MB</span><br><span class="line">b9a0601e3558: Loading layer [==================================================&gt;]  <span class="number">7.698</span>MB/<span class="number">7.698</span>MB</span><br><span class="line">aac781885802: Loading layer [==================================================&gt;]  <span class="number">223.2</span>kB/<span class="number">223.2</span>kB</span><br><span class="line"><span class="number">8</span>af4d736a2ab: Loading layer [==================================================&gt;]  <span class="number">195.1</span>kB/<span class="number">195.1</span>kB</span><br><span class="line"><span class="number">5</span>fef45ce538d: Loading layer [==================================================&gt;]  <span class="number">15.36</span>kB/<span class="number">15.36</span>kB</span><br><span class="line"><span class="number">5</span>f98131a71d5: Loading layer [==================================================&gt;]  <span class="number">3.584</span>kB/<span class="number">3.584</span>kB</span><br><span class="line">Loaded image: goharbor/harbor-portal:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">528</span>ae1964423: Loading layer [==================================================&gt;]  <span class="number">12.24</span>MB/<span class="number">12.24</span>MB</span><br><span class="line">b03ff000935f: Loading layer [==================================================&gt;]  <span class="number">49.37</span>MB/<span class="number">49.37</span>MB</span><br><span class="line">Loaded image: goharbor/harbor-jobservice:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">6</span>e264682550<span class="number">0</span>: Loading layer [==================================================&gt;]  <span class="number">89.65</span>MB/<span class="number">89.65</span>MB</span><br><span class="line">fb20b8d71cf1: Loading layer [==================================================&gt;]  <span class="number">3.072</span>kB/<span class="number">3.072</span>kB</span><br><span class="line">d566c1cc124d: Loading layer [==================================================&gt;]   <span class="number">59.9</span>kB/<span class="number">59.9</span>kB</span><br><span class="line">c427dc7cb315: Loading layer [==================================================&gt;]  <span class="number">61.95</span>kB/<span class="number">61.95</span>kB</span><br><span class="line">Loaded image: goharbor/redis-photon:v1.<span class="number">10.4</span></span><br><span class="line">Loaded image: goharbor/prepare:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">9</span>fd7cf078b16: Loading layer [==================================================&gt;]  <span class="number">49.93</span>MB/<span class="number">49.93</span>MB</span><br><span class="line">bffa9c13b07<span class="number">0</span>: Loading layer [==================================================&gt;]  <span class="number">3.584</span>kB/<span class="number">3.584</span>kB</span><br><span class="line"><span class="number">5</span>bc5a2da3367: Loading layer [==================================================&gt;]  <span class="number">3.072</span>kB/<span class="number">3.072</span>kB</span><br><span class="line">d207162a345a: Loading layer [==================================================&gt;]   <span class="number">2.56</span>kB/<span class="number">2.56</span>kB</span><br><span class="line"><span class="number">3</span>f5fa111d1ff: Loading layer [==================================================&gt;]  <span class="number">3.072</span>kB/<span class="number">3.072</span>kB</span><br><span class="line"><span class="number">6</span>fac1f97e0a4: Loading layer [==================================================&gt;]  <span class="number">3.584</span>kB/<span class="number">3.584</span>kB</span><br><span class="line"><span class="number">39089450</span>a8d3: Loading layer [==================================================&gt;]  <span class="number">12.29</span>kB/<span class="number">12.29</span>kB</span><br><span class="line">c43cc9ac71a3: Loading layer [==================================================&gt;]  <span class="number">5.632</span>kB/<span class="number">5.632</span>kB</span><br><span class="line">Loaded image: goharbor/harbor-<span class="keyword">log</span>:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">93</span>dfe2d38dda: Loading layer [==================================================&gt;]  <span class="number">115.3</span>MB/<span class="number">115.3</span>MB</span><br><span class="line">a2d6890966ca: Loading layer [==================================================&gt;]  <span class="number">12.15</span>MB/<span class="number">12.15</span>MB</span><br><span class="line"><span class="number">00</span>8d8a39ac95: Loading layer [==================================================&gt;]  <span class="number">3.072</span>kB/<span class="number">3.072</span>kB</span><br><span class="line">a06e99290956: Loading layer [==================================================&gt;]  <span class="number">49.15</span>kB/<span class="number">49.15</span>kB</span><br><span class="line"><span class="number">6</span>d0c609a7ea<span class="number">0</span>: Loading layer [==================================================&gt;]  <span class="number">3.584</span>kB/<span class="number">3.584</span>kB</span><br><span class="line">cc7d9f19817b: Loading layer [==================================================&gt;]  <span class="number">13.03</span>MB/<span class="number">13.03</span>MB</span><br><span class="line">Loaded image: goharbor/clair-photon:v1.<span class="number">10.4</span></span><br><span class="line">0c8c48462931: Loading layer [==================================================&gt;]  <span class="number">8.466</span>MB/<span class="number">8.466</span>MB</span><br><span class="line"><span class="number">7</span>c096b7a5806: Loading layer [==================================================&gt;]   <span class="number">9.71</span>MB/<span class="number">9.71</span>MB</span><br><span class="line">f18d35335b53: Loading layer [==================================================&gt;]   <span class="number">9.71</span>MB/<span class="number">9.71</span>MB</span><br><span class="line">Loaded image: goharbor/clair-adapter-photon:v1.<span class="number">10.4</span></span><br><span class="line">f55180240dc6: Loading layer [==================================================&gt;]  <span class="number">10.31</span>MB/<span class="number">10.31</span>MB</span><br><span class="line">Loaded image: goharbor/nginx-photon:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">4</span>a575c1c2167: Loading layer [==================================================&gt;]  <span class="number">8.466</span>MB/<span class="number">8.466</span>MB</span><br><span class="line">d0e9899aeeb5: Loading layer [==================================================&gt;]  <span class="number">3.584</span>kB/<span class="number">3.584</span>kB</span><br><span class="line">db6d9646f0e<span class="number">0</span>: Loading layer [==================================================&gt;]  <span class="number">3.072</span>kB/<span class="number">3.072</span>kB</span><br><span class="line"><span class="number">478</span>d5f29f1a6: Loading layer [==================================================&gt;]  <span class="number">20.94</span>MB/<span class="number">20.94</span>MB</span><br><span class="line"><span class="number">1</span>fbbee6ba37e: Loading layer [==================================================&gt;]  <span class="number">21.76</span>MB/<span class="number">21.76</span>MB</span><br><span class="line">Loaded image: goharbor/registry-photon:v1.<span class="number">10.4</span></span><br><span class="line"><span class="number">10</span>bbb8d426b9: Loading layer [==================================================&gt;]  <span class="number">14.61</span>MB/<span class="number">14.61</span>MB</span><br><span class="line"><span class="number">91</span>b66eb6b6b<span class="number">0</span>: Loading layer [==================================================&gt;]  <span class="number">28.25</span>MB/<span class="number">28.25</span>MB</span><br><span class="line"><span class="number">58956</span>c7bbf02: Loading layer [==================================================&gt;]  <span class="number">22.02</span>kB/<span class="number">22.02</span>kB</span><br><span class="line"><span class="number">1</span>c86ba20384f: Loading layer [==================================================&gt;]  <span class="number">49.09</span>MB/<span class="number">49.09</span>MB</span><br><span class="line">Loaded image: goharbor/notary-signer-photon:v1.<span class="number">10.4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Step <span class="number">3</span>]: preparing environment ...</span><br><span class="line"></span><br><span class="line">[Step <span class="number">4</span>]: preparing harbor configs ...</span><br><span class="line">prepare base dir is set to /opt/harbor</span><br><span class="line">WARNING:root:WARNING: HTTP protocol is insecure. Harbor will deprecate http protocol in the future. Please make sure to upgrade to https</span><br><span class="line">Clearing the configuration file: <span class="regexp">/config/registry</span><span class="regexp">/config.yml</span></span><br><span class="line"><span class="regexp">Clearing the configuration file: /config</span><span class="regexp">/jobservice/env</span></span><br><span class="line">Clearing the configuration file: <span class="regexp">/config/jobservice</span><span class="regexp">/config.yml</span></span><br><span class="line"><span class="regexp">Clearing the configuration file: /config</span><span class="regexp">/registryctl/env</span></span><br><span class="line">Clearing the configuration file: <span class="regexp">/config/registryctl</span><span class="regexp">/config.yml</span></span><br><span class="line"><span class="regexp">Clearing the configuration file: /config</span><span class="regexp">/log/rsyslog</span>_docker.conf</span><br><span class="line">Clearing the configuration file: <span class="regexp">/config/log</span><span class="regexp">/logrotate.conf</span></span><br><span class="line"><span class="regexp">Clearing the configuration file: /config</span><span class="regexp">/nginx/nginx</span>.conf</span><br><span class="line">Clearing the configuration file: <span class="regexp">/config/db</span><span class="regexp">/env</span></span><br><span class="line"><span class="regexp">Clearing the configuration file: /config</span><span class="regexp">/core/env</span></span><br><span class="line">Clearing the configuration file: <span class="regexp">/config/core</span><span class="regexp">/app.conf</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/log/logrotate</span>.conf</span><br><span class="line">Generated configuration file: <span class="regexp">/config/log</span><span class="regexp">/rsyslog_docker.conf</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/nginx/nginx</span>.conf</span><br><span class="line">Generated configuration file: <span class="regexp">/config/core</span><span class="regexp">/env</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/core/app</span>.conf</span><br><span class="line">Generated configuration file: <span class="regexp">/config/registry</span><span class="regexp">/config.yml</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/registryctl/env</span></span><br><span class="line">Generated configuration file: <span class="regexp">/config/db</span><span class="regexp">/env</span></span><br><span class="line"><span class="regexp">Generated configuration file: /config</span><span class="regexp">/jobservice/env</span></span><br><span class="line">Generated configuration file: <span class="regexp">/config/jobservice</span><span class="regexp">/config.yml</span></span><br><span class="line"><span class="regexp">loaded secret from file: /secret</span><span class="regexp">/keys/secretkey</span></span><br><span class="line">Generated configuration file: <span class="regexp">/compose_location/docker</span>-compose.yml</span><br><span class="line">Clean up the input dir</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Step <span class="number">5</span>]: starting Harbor ...</span><br><span class="line">Creating network <span class="string">"harbor_harbor"</span> with the default driver</span><br><span class="line">Creating harbor-<span class="keyword">log</span> ... done</span><br><span class="line">Creating registry      ... done</span><br><span class="line">Creating redis         ... done</span><br><span class="line">Creating harbor-portal ... done</span><br><span class="line">Creating registryctl   ... done</span><br><span class="line">Creating harbor-db     ... done</span><br><span class="line">Creating harbor-core   ... done</span><br><span class="line">Creating harbor-jobservice ... done</span><br><span class="line">Creating nginx             ... done</span><br><span class="line">âœ” ----Harbor has been installed <span class="keyword">and</span> started successfully.----</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>done!<br><img src="https://i.imgur.com/A0eMxba.png" alt=""></li>
<li>default user admin/Harbor12345<br><img src="https://i.imgur.com/7gTffJO.png" alt=""></li>
</ul>
<p>(4). add project and user</p>
<ul>
<li>new project<br><img src="https://i.imgur.com/OvGhb0o.png" alt=""><br><img src="https://i.imgur.com/ZinHFjE.png" alt=""><br><img src="https://i.imgur.com/nc45527.png" alt=""></li>
<li>new user (<code>User</code> on the left side)<br><img src="https://i.imgur.com/5jSFeTQ.png" alt=""><br><img src="https://i.imgur.com/WcEAUDq.png" alt=""></li>
<li>add user to project<br><img src="https://i.imgur.com/BRc8uO7.png" alt=""><br><img src="https://i.imgur.com/szGTuYJ.png" alt=""><br><img src="https://i.imgur.com/u5Gq0sI.png" alt=""><br><img src="https://i.imgur.com/JpBPfsN.png" alt=""><br><img src="https://i.imgur.com/dvoxZtS.png" alt=""></li>
<li>login with new user account<br><img src="https://i.imgur.com/uW8GErG.png" alt=""><br><img src="https://i.imgur.com/ADtAo83.png" alt=""></li>
</ul>
<p>(5). upload image</p>
<ul>
<li>docker tag eureka:v1 bf346f482d31.ngrok.io:80/eureka/eureka:v1<figure class="highlight perl"><figcaption><span>docker tag eureka:v1 bf346f482d31.ngrok.io:80/eureka/eureka:v1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker tag eureka:v1 bf346f482d31.ngrok.io:<span class="number">80</span>/eureka/eureka:v1</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>docker push bf346f482d31.ngrok.io:80/eureka/eureka:v1<figure class="highlight perl"><figcaption><span>push bf346f482d31.ngrok.io:80/eureka/eureka:v1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">The <span class="keyword">push</span> refers to repository [bf346f482d31.ngrok.io:<span class="number">80</span>/eureka/eureka]</span><br><span class="line">aefe5cb98a15: Preparing</span><br><span class="line">f199ad476e12: Waiting</span><br><span class="line"><span class="number">531743</span>b7098c: Waiting</span><br><span class="line">denied: requested access to the resource is denied</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>docker login -u eve -p Harbor12345678 bf346f482d31.ngrok.io:80<figure class="highlight perl"><figcaption><span>docker login -u eve -p Harbor12345678 bf346f482d31.ngrok.io:80</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">WARNING! Using --password via the CLI is insecure. Use --password-stdin.</span><br><span class="line">WARNING! Your password will be stored unencrypted in /home/webdev/.docker/config.json.</span><br><span class="line">Configure a credential helper to remove this warning. See</span><br><span class="line">https:<span class="regexp">//docs</span>.docker.com/engine/reference/commandline/login/<span class="comment">#credentials-store</span></span><br><span class="line"></span><br><span class="line">Login Succeeded</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>docker push bf346f482d31.ngrok.io:80/eureka/eureka:v1<figure class="highlight perl"><figcaption><span>docker push bf346f482d31.ngrok.io:80/eureka/eureka:v1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">The <span class="keyword">push</span> refers to repository [bf346f482d31.ngrok.io:<span class="number">80</span>/eureka/eureka]</span><br><span class="line">aefe5cb98a15: Pushed</span><br><span class="line">f199ad476e12: Pushed</span><br><span class="line"><span class="number">531743</span>b7098c: Pushed</span><br><span class="line">v1: digest: sha256:<span class="number">145777</span>bc7964f4b68ffb2ea9a6a4855af1773cad8f24cd098c32ffb8813aa7fe size: <span class="number">953</span></span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>done!<br><img src="https://i.imgur.com/t6p47dF.png" alt=""><br><img src="https://i.imgur.com/Fm7ZIYC.png" alt=""><br><img src="https://i.imgur.com/7EiDPVh.png" alt=""><br><img src="https://i.imgur.com/Sk3iuwL.png" alt=""></li>
</ul>
<p>(6). download image</p>
<ul>
<li>docker rmi bf346f482d31.ngrok.io:80/eureka/eureka:v1<figure class="highlight perl"><figcaption><span>docker rmi bf346f482d31.ngrok.io:80/eureka/eureka:v1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Untagged: bf346f482d31.ngrok.io:<span class="number">80</span>/eureka/eureka:v1</span><br><span class="line">Untagged: bf346f482d31.ngrok.io:<span class="number">80</span>/eureka/eureka@sha256:<span class="number">145777</span>bc7964f4b68ffb2ea9a6a4855af1773cad8f24cd098c32ffb8813aa7fe</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>docker images<figure class="highlight perl"><figcaption><span>docker images</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY                      TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">eureka                          v1                  <span class="number">6277</span>cab9d767        <span class="number">24</span> hours ago        <span class="number">389</span>MB</span><br><span class="line">goharbor/chartmuseum-photon     v1.<span class="number">10.4</span>             <span class="number">4</span>d6611b3b6a9        <span class="number">9</span> days ago          <span class="number">178</span>MB</span><br><span class="line">goharbor/harbor-migrator        v1.<span class="number">10.4</span>             c6ba18cc92c<span class="number">0</span>        <span class="number">9</span> days ago          <span class="number">357</span>MB</span><br><span class="line">goharbor/redis-photon           v1.<span class="number">10.4</span>             <span class="number">1733199</span>a838<span class="number">0</span>        <span class="number">9</span> days ago          <span class="number">122</span>MB</span><br><span class="line">goharbor/clair-adapter-photon   v1.<span class="number">10.4</span>             <span class="number">4</span>d7fec33eb52        <span class="number">9</span> days ago          <span class="number">61.2</span>MB</span><br><span class="line">goharbor/clair-photon           v1.<span class="number">10.4</span>             <span class="number">48</span>f8d69c3f63        <span class="number">9</span> days ago          <span class="number">171</span>MB</span><br><span class="line">goharbor/notary-server-photon   v1.<span class="number">10.4</span>             <span class="number">3</span>cc30fe05041        <span class="number">9</span> days ago          <span class="number">143</span>MB</span><br><span class="line">goharbor/notary-signer-photon   v1.<span class="number">10.4</span>             <span class="number">46</span>ecb328c811        <span class="number">9</span> days ago          <span class="number">140</span>MB</span><br><span class="line">goharbor/harbor-registryctl     v1.<span class="number">10.4</span>             <span class="number">503</span>dda3f193e        <span class="number">9</span> days ago          <span class="number">102</span>MB</span><br><span class="line">goharbor/registry-photon        v1.<span class="number">10.4</span>             <span class="number">96183605</span>aaeb        <span class="number">9</span> days ago          <span class="number">84.5</span>MB</span><br><span class="line">goharbor/nginx-photon           v1.<span class="number">10.4</span>             f8f638056eee        <span class="number">9</span> days ago          <span class="number">43.6</span>MB</span><br><span class="line">goharbor/harbor-<span class="keyword">log</span>             v1.<span class="number">10.4</span>             b0de11e1ba03        <span class="number">9</span> days ago          <span class="number">82.1</span>MB</span><br><span class="line">goharbor/harbor-jobservice      v1.<span class="number">10.4</span>             <span class="number">91</span>c262f629d2        <span class="number">9</span> days ago          <span class="number">143</span>MB</span><br><span class="line">goharbor/harbor-core            v1.<span class="number">10.4</span>             cc013d5caa8<span class="number">0</span>        <span class="number">9</span> days ago          <span class="number">129</span>MB</span><br><span class="line">goharbor/harbor-portal          v1.<span class="number">10.4</span>             fec0c21d0a67        <span class="number">9</span> days ago          <span class="number">51.7</span>MB</span><br><span class="line">goharbor/harbor-db              v1.<span class="number">10.4</span>             <span class="number">2</span>f077a558a2c        <span class="number">9</span> days ago          <span class="number">161</span>MB</span><br><span class="line">goharbor/prepare                v1.<span class="number">10.4</span>             <span class="number">85</span>d07a7c81cd        <span class="number">9</span> days ago          <span class="number">168</span>MB</span><br><span class="line">openjdk                         <span class="number">14</span>-jdk-alpine       <span class="number">8273876</span>b08aa        <span class="number">5</span> months ago        <span class="number">340</span>MB</span><br><span class="line">hello-world                     latest              bf756fb1ae65        <span class="number">6</span> months ago        <span class="number">13.3</span>kB</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>docker login -u eve -p Harbor12345678 8beca9c230e8.ngrok.io:80<figure class="highlight perl"><figcaption><span>docker login -u eve -p Harbor12345678 8beca9c230e8.ngrok.io:80</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">WARNING! Using --password via the CLI is insecure. Use --password-stdin.</span><br><span class="line">WARNING! Your password will be stored unencrypted in /home/webdev/.docker/config.json.</span><br><span class="line">Configure a credential helper to remove this warning. See</span><br><span class="line">https:<span class="regexp">//docs</span>.docker.com/engine/reference/commandline/login/<span class="comment">#credentials-store</span></span><br><span class="line"></span><br><span class="line">Login Succeeded</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>get image url<br><img src="https://i.imgur.com/UchgFsN.png" alt=""></li>
<li>docker pull 8beca9c230e8.ngrok.io:80/eureka/eureka:v1<figure class="highlight perl"><figcaption><span>docker pull 8beca9c230e8.ngrok.io:80/eureka/eureka:v1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">v1: Pulling from eureka/eureka</span><br><span class="line">Digest: sha256:<span class="number">145777</span>bc7964f4b68ffb2ea9a6a4855af1773cad8f24cd098c32ffb8813aa7fe</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> <span class="number">8</span>beca9c230e8.ngrok.io:<span class="number">80</span>/eureka/eureka:v1</span><br><span class="line"><span class="number">8</span>beca9c230e8.ngrok.io:<span class="number">80</span>/eureka/eureka:v1</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>docker images<figure class="highlight perl"><figcaption><span>docker images</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY                               TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">eureka                                   v1                  <span class="number">6277</span>cab9d767        <span class="number">25</span> hours ago        <span class="number">389</span>MB</span><br><span class="line"><span class="number">8</span>beca9c230e8.ngrok.io:<span class="number">80</span>/eureka/eureka   v1                  <span class="number">6277</span>cab9d767        <span class="number">25</span> hours ago        <span class="number">389</span>MB</span><br><span class="line">goharbor/chartmuseum-photon              v1.<span class="number">10.4</span>             <span class="number">4</span>d6611b3b6a9        <span class="number">9</span> days ago          <span class="number">178</span>MB</span><br><span class="line">goharbor/harbor-migrator                 v1.<span class="number">10.4</span>             c6ba18cc92c<span class="number">0</span>        <span class="number">9</span> days ago          <span class="number">357</span>MB</span><br><span class="line">goharbor/redis-photon                    v1.<span class="number">10.4</span>             <span class="number">1733199</span>a838<span class="number">0</span>        <span class="number">9</span> days ago          <span class="number">122</span>MB</span><br><span class="line">goharbor/clair-adapter-photon            v1.<span class="number">10.4</span>             <span class="number">4</span>d7fec33eb52        <span class="number">9</span> days ago          <span class="number">61.2</span>MB</span><br><span class="line">goharbor/clair-photon                    v1.<span class="number">10.4</span>             <span class="number">48</span>f8d69c3f63        <span class="number">9</span> days ago          <span class="number">171</span>MB</span><br><span class="line">goharbor/notary-server-photon            v1.<span class="number">10.4</span>             <span class="number">3</span>cc30fe05041        <span class="number">9</span> days ago          <span class="number">143</span>MB</span><br><span class="line">goharbor/notary-signer-photon            v1.<span class="number">10.4</span>             <span class="number">46</span>ecb328c811        <span class="number">9</span> days ago          <span class="number">140</span>MB</span><br><span class="line">goharbor/harbor-registryctl              v1.<span class="number">10.4</span>             <span class="number">503</span>dda3f193e        <span class="number">9</span> days ago          <span class="number">102</span>MB</span><br><span class="line">goharbor/registry-photon                 v1.<span class="number">10.4</span>             <span class="number">96183605</span>aaeb        <span class="number">9</span> days ago          <span class="number">84.5</span>MB</span><br><span class="line">goharbor/nginx-photon                    v1.<span class="number">10.4</span>             f8f638056eee        <span class="number">9</span> days ago          <span class="number">43.6</span>MB</span><br><span class="line">goharbor/harbor-<span class="keyword">log</span>                      v1.<span class="number">10.4</span>             b0de11e1ba03        <span class="number">9</span> days ago          <span class="number">82.1</span>MB</span><br><span class="line">goharbor/harbor-jobservice               v1.<span class="number">10.4</span>             <span class="number">91</span>c262f629d2        <span class="number">9</span> days ago          <span class="number">143</span>MB</span><br><span class="line">goharbor/harbor-core                     v1.<span class="number">10.4</span>             cc013d5caa8<span class="number">0</span>        <span class="number">9</span> days ago          <span class="number">129</span>MB</span><br><span class="line">goharbor/harbor-portal                   v1.<span class="number">10.4</span>             fec0c21d0a67        <span class="number">9</span> days ago          <span class="number">51.7</span>MB</span><br><span class="line">goharbor/harbor-db                       v1.<span class="number">10.4</span>             <span class="number">2</span>f077a558a2c        <span class="number">9</span> days ago          <span class="number">161</span>MB</span><br><span class="line">goharbor/prepare                         v1.<span class="number">10.4</span>             <span class="number">85</span>d07a7c81cd        <span class="number">9</span> days ago          <span class="number">168</span>MB</span><br><span class="line">openjdk                                  <span class="number">14</span>-jdk-alpine       <span class="number">8273876</span>b08aa        <span class="number">5</span> months ago        <span class="number">340</span>MB</span><br><span class="line">hello-world                              latest              bf756fb1ae65        <span class="number">6</span> months ago        <span class="number">13.3</span>kB</span><br><span class="line">      </span><br></pre></td></tr></table></figure></li>
<li>done!</li>
</ul>
</li>
</ol>
</div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5f06751ce9f145001203b988&amp;product=inline-share-buttons" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/posts/5735/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 4.1 - Microservices (Single instance)</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/posts/62559/"><span class="level-item">Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 2.5 - Jenkins (Another Plugings)</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: '2421b8a1398c6b0da79eb7dd8a9909ea',
            repo: 'gitalk-repo',
            owner: 'sanstwy27',
            clientID: 'ec9ba66c7a7097709fba',
            clientSecret: 'd378871022b09c4f146436375d0a45b8529904d6',
            admin: ["sanstwy27"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: 'last',
            
            
            enableHotKey: true
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/6435183.jpg" alt="Sans"></figure><p class="title is-size-4 is-block line-height-inherit">Sans</p><p class="is-size-6 is-block">Practice makes perfect.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Earth</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">19</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">37</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/sanstwy27" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/sanstwy27"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:sanstwy27@outlook.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Tech/"><span class="level-start"><span class="level-item">Tech</span></span><span class="level-end"><span class="level-item tag">19</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Tech/Notes/"><span class="level-start"><span class="level-item">Notes</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Tech/Tools/"><span class="level-start"><span class="level-item">Tools</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><a class="media-left" href="/posts/6798/"><p class="image is-64x64"><img class="thumbnail" src="https://i.imgur.com/erGjIxf.jpg" alt="Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 4.4 - Microservices (Cluster)"></p></a><div class="media-content size-small"><p><time dateTime="2020-07-30T13:16:00.000Z">2020-07-30</time></p><p class="title is-6"><a class="link-muted" href="/posts/6798/">Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 4.4 - Microservices (Cluster)</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Tech/">Tech</a> / <a class="link-muted" href="/categories/Tech/Notes/">Notes</a></p></div></article><article class="media"><a class="media-left" href="/posts/8916/"><p class="image is-64x64"><img class="thumbnail" src="https://i.imgur.com/jEoptBF.jpg" alt="Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 4.3 - Microservices (Single instance)"></p></a><div class="media-content size-small"><p><time dateTime="2020-07-28T13:51:00.000Z">2020-07-28</time></p><p class="title is-6"><a class="link-muted" href="/posts/8916/">Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 4.3 - Microservices (Single instance)</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Tech/">Tech</a> / <a class="link-muted" href="/categories/Tech/Notes/">Notes</a></p></div></article><article class="media"><a class="media-left" href="/posts/58104/"><p class="image is-64x64"><img class="thumbnail" src="https://i.imgur.com/S0aHsXi.jpg" alt="Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 4.2 - Microservices (Single instance)"></p></a><div class="media-content size-small"><p><time dateTime="2020-07-26T14:25:00.000Z">2020-07-26</time></p><p class="title is-6"><a class="link-muted" href="/posts/58104/">Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 4.2 - Microservices (Single instance)</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Tech/">Tech</a> / <a class="link-muted" href="/categories/Tech/Notes/">Notes</a></p></div></article><article class="media"><a class="media-left" href="/posts/5735/"><p class="image is-64x64"><img class="thumbnail" src="https://i.imgur.com/uXRSHhC.jpg" alt="Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 4.1 - Microservices (Single instance)"></p></a><div class="media-content size-small"><p><time dateTime="2020-07-24T14:07:00.000Z">2020-07-24</time></p><p class="title is-6"><a class="link-muted" href="/posts/5735/">Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 4.1 - Microservices (Single instance)</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Tech/">Tech</a> / <a class="link-muted" href="/categories/Tech/Notes/">Notes</a></p></div></article><article class="media"><a class="media-left" href="/posts/45235/"><p class="image is-64x64"><img class="thumbnail" src="https://i.imgur.com/pT5Waji.jpg" alt="Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 3 - Private Repository"></p></a><div class="media-content size-small"><p><time dateTime="2020-07-23T13:07:00.000Z">2020-07-23</time></p><p class="title is-6"><a class="link-muted" href="/posts/45235/">Building CI/CD Pipelines with IDEA, Gitlab, Jenkins and Kubernetes - Topic 3 - Private Repository</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Tech/">Tech</a> / <a class="link-muted" href="/categories/Tech/Notes/">Notes</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/CI-CD/"><span class="tag">CI/CD</span><span class="tag is-grey-lightest">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Jenkins/"><span class="tag">Jenkins</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gitlab/"><span class="tag">Gitlab</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Eureka/"><span class="tag">Eureka</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IDEA/"><span class="tag">IDEA</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Node-js/"><span class="tag">Node.js</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Harbor/"><span class="tag">Harbor</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/React/"><span class="tag">React</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Net/"><span class="tag">.Net</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android-Developer/"><span class="tag">Android Developer</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Angular/"><span class="tag">Angular</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cluster/"><span class="tag">Cluster</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Data-Scientist/"><span class="tag">Data Scientist</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Deep-Learning/"><span class="tag">Deep Learning</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DevOps/"><span class="tag">DevOps</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Game-Developer/"><span class="tag">Game Developer</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hacker/"><span class="tag">Hacker</span><span class="tag is-grey-lightest">1</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">Read More&gt;&gt;</span></a></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img class="logo-img" src="/img/logo.png" alt="Ke&#039;s Blog" height="28"><img class="logo-img-dark" src="/img/logoNight.png" alt="Ke&#039;s Blog" height="28"></a><p class="size-small"><span>&copy; 2020 Sans Ke</span>Â All Rights Reserved. Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span>If you think your work has been copied in a manner that constitutes copyright infringement, <br />you may notify me by message board or email.</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://sanstwy27.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><script src="/js/main.js" defer></script><script src="/js/imaegoo/universe.js"></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>